=====================
6.12.0 (October 2019)
=====================

Kurento Media Server **6.12** has been released!

To install it: :doc:`/user/installation`.



Added
=====

* Added support for the `null ICE candidate <https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onicecandidate>`__ that Firefox sends to signal the end of Trickle ICE.
* Resolve mDNS candidate names that Chrome uses in place of local candidate IP Addresses for privacy reasons (`PSA: mDNS and .local ICE candidates are coming <https://bloggeek.me/psa-mdns-and-local-ice-candidates-are-coming/>`__).
* New package *kurento-dbg* (to be installed with ``apt-get``), that installs all optional debugging symbols needed for Kurento crash reports.
* Add support for compilation with **Clang** and **UndefinedSanitizer** in the Kurento helper build script: `Kurento/kms-omni-build/bin/kms-build-run.sh <https://github.com/Kurento/kms-omni-build/blob/master/bin/kms-build-run.sh>`__. It now allows to choose between `GCC <https://gcc.gnu.org/>`__ and `Clang <https://clang.llvm.org/>`__ compilers, together with support for `AddressSanitizer <https://clang.llvm.org/docs/AddressSanitizer.html>`__, `ThreadSanitizer <https://clang.llvm.org/docs/ThreadSanitizer.html>`__, and `UndefinedBehaviorSanitizer <https://clang.llvm.org/docs/UndefinedBehaviorSanitizer.html>`__.



Changed
=======

* *libsrtp* fork updated to version 1.6.0; custom patch reviewed to fix "**unprotect failed code 9**" warning messages (`Kurento/bugtracker#246 <https://github.com/Kurento/bugtracker/issues/246>`__).
* User **kurento** gets now created with an User ID belonging to the *system* category (which gets an UID >= ``100``), instead of the *user* category (which gets an UID >= ``1000``). This fixes the issue of the user *kurento* showing up in the Ubuntu login screen.
* The home directory for the user *kurento* has been moved from ``/var/kurento`` to ``/var/lib/kurento``, which complies with the Linux Foundation's `Filesystem Hierarchy Standard (FHS) <https://refspecs.linuxfoundation.org/fhs.shtml>`__ (`Kurento/bugtracker#364 <https://github.com/Kurento/bugtracker/issues/364>`__).
* Enable C++14 language spec. when building C++ code.



Deprecated
==========

* The old home directory for the user *kurento*, which was located at ``/var/kurento``, is now re-created as a symbolic link to the new location in ``/var/lib/kurento``. **Applications should migrate to the new location**. The next major release of Kurento will stop providing the fallback link in the old path.



Fixed
=====

* Fix the **MediaFlowInStateChange crash**. `Kurento/bugtracker#393 <https://github.com/Kurento/bugtracker/issues/393>`__ (*MediaFlowInStateChange Seg Fault*).
* Fix leaks and posible crash in PlayerEndpoint. `Kurento/bugtracker#198 <https://github.com/Kurento/bugtracker/issues/198>`__ (*PlayerEndpoint leaks 2 sockets*).
* Fix GStreamer memory leak in DTLS handling.
* Fix memory leak in classes auto-generated by Kurento Module Creator.
* Fix potential uncaught exceptions in *kms-core* when parsing SDP messages.
